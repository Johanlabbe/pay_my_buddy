<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<body>
<header class="main-nav" th:fragment="navbar">
  <a th:href="@{/dashboard}" class="logo-text">Pay My Buddy</a>

  <nav>
    <ul>
      <li sec:authorize="isAuthenticated()">
        <a th:href="@{/dashboard}" th:classappend="${active}=='home' ? ' active'">Accueil</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a th:href="@{/transfer}" th:classappend="${active}=='transfer' ? ' active'">Transférer</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a th:href="@{/connections}" th:classappend="${active}=='contacts' ? ' active'">Contacts</a>
      </li>
      <li sec:authorize="isAuthenticated()">
        <a th:href="@{/profile}" th:classappend="${active}=='profile' ? ' active'">Profil</a>
      </li>

      <li sec:authorize="isAnonymous()">
        <a th:href="@{/auth/login}" th:classappend="${active}=='login' ? ' active'">Se connecter</a>
      </li>
      <li sec:authorize="isAnonymous()">
        <a th:href="@{/auth/register}" th:classappend="${active}=='register' ? ' active'">Créer un compte</a>
      </li>

      <li sec:authorize="isAuthenticated()">
        <form th:action="@{/auth/logout}" method="post">
          <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
          <button type="submit" class="logout">Déconnexion</button>
        </form>
      </li>
    </ul>
  </nav>
</header>
</body>
</html>
